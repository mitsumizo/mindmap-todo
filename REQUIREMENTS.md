# マインドマップ型TODOアプリ - 要件定義書

## 📌 プロジェクト概要

### プロジェクト名
**Mindmap TODO** - 目標を無限に分解できるツリー型TODOアプリ

### 背景
転職活動で多数のタスクを管理する必要があり、従来のTODOリストでは全体像の把握が困難。
目標を中心に据えて、階層的に分解・可視化できるツールが必要。

### コンセプト
「ツリーとして整理されながら、潰すのが楽しくなっちゃう」体験の提供

---

## 🎯 MVP スコープ

### 対象ユーザー
- 自分自身（転職活動のタスク管理）
- 将来的には同じ課題を持つ人

### 前提条件
- React（ローカル環境）で動作
- MVPでの公開は不要
- 単一ユーザー使用

---

## 🛠 技術スタック

### フロントエンド
- **React 18+** (Vite)
- **TypeScript** - 型安全性の確保
- **React Flow** - マインドマップ風ツリー表示

### 状態管理
- **Zustand** または **React Context** - 軽量な状態管理

### データ永続化
- **localStorage** - ブラウザローカルストレージ
  - デバイス間同期は不要（MVP）
  - 将来的にFirebase等への移行を検討

### スタイリング
- **Tailwind CSS** または **CSS Modules** - 楽しい見た目の実装

### ホスティング
- MVP段階では不要
- 将来的な選択肢: Vercel / Netlify / GitHub Pages

---

## 📋 機能要件

### Phase 1: 必須機能（MVP）

#### 1. ツリー表示
- [ ] ルートノード（中心の目標）の表示
- [ ] 子ノードの階層的表示
- [ ] React Flowによるマインドマップ風レイアウト
- [ ] ノードの展開/折りたたみ機能

#### 2. ノード操作
- [ ] ノードの追加（任意の階層に）
- [ ] ノードのチェック（完了/未完了の切り替え）
- [ ] ノードテキストの表示

#### 3. データ永続化
- [ ] localStorageへの自動保存
- [ ] アプリ起動時のデータ復元

#### 4. 初期データ
以下の構造を初期データとして実装：

```
30歳までにグローバルで働く (ルート)
├── 転職活動の土台
│   ├── LinkedIn更新
│   ├── GitHub整理
│   ├── ポートフォリオ作成
│   └── CV整理
├── 面接突破
│   ├── 面接準備
│   └── アルゴリズム勉強
├── 英語力向上
│   ├── 単語力
│   ├── 回路の強化
│   └── IELTS勉強
└── 技術力向上
    ├── SQL
    ├── 生成AI
    ├── Terraform
    └── データエンジニアリング
```

### Phase 2: あると嬉しい機能

- [ ] ノードの編集（テキスト変更）
- [ ] ノードの削除
- [ ] ドラッグ&ドロップでノード移動
- [ ] ノードの並び替え
- [ ] Undo/Redo機能

### Phase 3: 将来的な機能

- [ ] 進捗率の可視化（完了タスク / 全タスク）
- [ ] ノードの色分け・アイコン設定
- [ ] 優先度の設定
- [ ] 期限の設定
- [ ] データのエクスポート（JSON）
- [ ] データのインポート
- [ ] 複数のマインドマップ管理
- [ ] ダークモード
- [ ] クラウド同期（Firebase等）

---

## 🎨 UI/UX 要件

### デザインコンセプト
- **楽しく使える**
  - 完了時のアニメーション
  - 視覚的なフィードバック
  - 親しみやすい色使い

- **直感的な操作**
  - ノードクリックで展開/折りたたみ
  - チェックボックスで完了管理
  - 追加ボタンで新規ノード作成

### レイアウト
- マインドマップ風の放射状レイアウト
- ルートノードを中心に配置
- ズーム・パン機能（React Flow標準機能）

---

## 📊 データ構造

### ノードの型定義（案）

```typescript
interface TodoNode {
  id: string;              // 一意のID
  label: string;           // 表示テキスト
  completed: boolean;      // 完了状態
  parentId: string | null; // 親ノードのID（ルートはnull）
  children: string[];      // 子ノードのIDリスト
  collapsed: boolean;      // 折りたたみ状態
  createdAt: Date;         // 作成日時
  completedAt?: Date;      // 完了日時
}

interface TodoTree {
  nodes: Record<string, TodoNode>; // IDをキーとしたノードマップ
  rootId: string;                   // ルートノードのID
  version: string;                  // データバージョン
}
```

---

## 🚀 開発ステップ

### Step 1: 環境構築
1. Vite + React + TypeScript プロジェクト作成
2. React Flow インストール
3. Zustand (or Context) セットアップ
4. Tailwind CSS セットアップ（オプション）

### Step 2: 基本実装
1. データ構造の定義
2. 初期データの作成
3. React Flow によるツリー表示
4. ノードコンポーネントの作成

### Step 3: 機能実装
1. ノードの展開/折りたたみ
2. チェック機能
3. ノード追加機能
4. localStorage 連携

### Step 4: UI改善
1. スタイリング
2. アニメーション
3. レスポンシブ対応（オプション）

### Step 5: テスト & ブラッシュアップ
1. 動作確認
2. バグ修正
3. UX改善

---

## ⚠️ 技術的制約・注意事項

### 現時点での制約
- ブラウザのlocalStorage容量制限（通常5-10MB）
- 単一デバイスでの使用
- マルチユーザー対応なし

### セキュリティ
- MVP段階では認証不要
- localStorageのデータは平文（機密情報は含めない想定）

### パフォーマンス
- ノード数が数百程度までは問題なし
- 大規模ツリーは将来的に仮想化を検討

---

## 📅 マイルストーン

### Milestone 1: プロトタイプ
- 環境構築完了
- 基本的なツリー表示
- ハードコードされた初期データ表示

### Milestone 2: MVP完成
- Phase 1 の全機能実装
- localStorage連携
- 基本的なスタイリング

### Milestone 3: 実用版
- Phase 2 の主要機能実装
- UI/UXの改善
- 実際の転職活動で使用開始

---

## 🔄 将来的な拡張性

### データベース移行
- localStorage → Firebase Firestore
- リアルタイム同期
- デバイス間共有

### 追加機能
- コラボレーション機能（複数人での共有）
- AI による タスク分解提案
- 時間追跡機能
- レポート・分析機能

### モバイル対応
- PWA化
- React Native版の検討

---

## 📝 参考資料

### 使用ライブラリ
- [React Flow](https://reactflow.dev/) - マインドマップUI
- [Zustand](https://zustand-demo.pmnd.rs/) - 状態管理
- [Vite](https://vitejs.dev/) - ビルドツール

### デザイン参考
- Notion のデータベース機能
- Miro / FigJam のマインドマップ
- Todoist / TickTick の階層タスク

---

## ✅ 完了条件（MVP）

以下の動作が確認できたらMVP完成：

1. ブラウザで初期データのマインドマップが表示される
2. ノードをクリックして展開/折りたたみできる
3. ノードのチェックボックスで完了/未完了を切り替えられる
4. ノード追加ボタンから新しいタスクを追加できる
5. ブラウザをリロードしてもデータが保持される
6. 見た目が「楽しい」と感じられる

---

**作成日**: 2026-01-11
**最終更新**: 2026-01-11
**ステータス**: 要件定義完了 → 実装開始準備中
